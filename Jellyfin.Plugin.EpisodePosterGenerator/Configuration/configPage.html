<!DOCTYPE html>
<html lang="en">
<head>
    <title>Episode Poster Generator</title>
    <link rel="stylesheet" href="configPage.css">
</head>
<body>
<div id="EpisodePosterGeneratorConfigPage" data-role="page" class="page type-interior pluginConfigurationPage">
    <div data-role="content">
        <div class="content-primary">
            <form id="EpisodePosterGeneratorConfigForm">
                <div class="verticalSection verticalSection-extrabottompadding">
                    <div class="sectionTitleContainer flex align-items-center">
                        <h1 class="sectionTitle">Episode Poster Generator</h1>
                    </div>

                    <!-- Plugin Settings -->
                    <div class="sectionTitleContainer">
                        <h2 class="sectionTitle">Plugin</h2>
                    </div>

                    <div class="inputContainer">
                        <label class="checkboxContainer">
                            <input is="emby-checkbox" type="checkbox" id="chkEnableProvider" data-config="EnableProvider" />
                            <span>Enable Provider</span>
                        </label>
                        <div class="fieldDescription">Enable the plugin as a metadata provider for episode posters.</div>
                    </div>

                    <div class="inputContainer">
                        <label class="checkboxContainer">
                            <input is="emby-checkbox" type="checkbox" id="chkEnableTask" data-config="EnableTask" />
                            <span>Enable Scheduled Task</span>
                        </label>
                        <div class="fieldDescription">Enable the plugin as a scheduled task for batch poster generation.</div>
                    </div>

                    <!-- Poster Settings -->
                    <div class="sectionTitleContainer">
                        <h2 class="sectionTitle">Poster</h2>
                    </div>

                    <div class="inputContainer">
                        <label for="selectPosterStyle">Poster Style:</label>
                        <select is="emby-select" id="selectPosterStyle" data-config="PosterStyle">
                            <option value="Standard">Standard</option>
                            <option value="Logo">Logo</option>
                            <option value="Cutout">Cutout</option>
                            <option value="Numeral">Numeral</option>
                        </select>
                        <div class="fieldDescription">Choose the style of poster to generate.</div>
                    </div>

                    <div class="inputContainer" data-poster-styles="Cutout">
                        <label for="selectCutoutType">Cutout Type:</label>
                        <select is="emby-select" id="selectCutoutType" data-config="CutoutType">
                            <option value="Code">Code</option>
                            <option value="Number">Number</option>
                        </select>
                        <div class="fieldDescription">Type of cutout to display for cutout style.</div>
                    </div>

                    <div class="inputContainer" data-poster-styles="Cutout">
                        <label class="checkboxContainer">
                            <input is="emby-checkbox" type="checkbox" id="chkCutoutBorder" data-config="CutoutBorder" />
                            <span>Cutout Border</span>
                        </label>
                        <div class="fieldDescription">Add a border around the cutout.</div>
                    </div>

                    <div class="inputContainer" data-poster-styles="Logo">
                        <label for="selectLogoPosition">Logo Position:</label>
                        <select is="emby-select" id="selectLogoPosition" data-config="LogoPosition">
                            <option value="TopLeft">Top Left</option>
                            <option value="TopCenter">Top Center</option>
                            <option value="TopRight">Top Right</option>
                            <option value="MiddleLeft">Middle Left</option>
                            <option value="Center">Center</option>
                            <option value="MiddleRight">Middle Right</option>
                            <option value="BottomLeft">Bottom Left</option>
                            <option value="BottomCenter">Bottom Center</option>
                            <option value="BottomRight">Bottom Right</option>
                        </select>
                        <div class="fieldDescription">Position of the logo on the poster.</div>
                    </div>

                    <div class="inputContainer" data-poster-styles="Logo">
                        <label for="selectLogoAlignment">Logo Alignment:</label>
                        <select is="emby-select" id="selectLogoAlignment" data-config="LogoAlignment">
                            <option value="Left">Left</option>
                            <option value="Center">Center</option>
                            <option value="Right">Right</option>
                        </select>
                        <div class="fieldDescription">Alignment of the logo within its position.</div>
                    </div>

                    <div class="inputContainer" data-poster-styles="Logo">
                        <label for="txtLogoHeight">Logo Height (%):</label>
                        <input is="emby-input" type="number" id="txtLogoHeight" min="1" max="100" data-config="LogoHeight" data-type="number" />
                        <div class="fieldDescription">Height of the logo as percentage of poster height.</div>
                    </div>

                    <div class="inputContainer">
                        <label class="checkboxContainer">
                            <input is="emby-checkbox" type="checkbox" id="chkExtractPoster" data-config="ExtractPoster" />
                            <span>Extract Poster from Episode</span>
                        </label>
                        <div class="fieldDescription">Extract the poster image from the episode video file.</div>
                    </div>

                    <div class="inputContainer" data-depends-on="chkExtractPoster">
                        <label for="txtBrightenHDR">Brighten HDR (%):</label>
                        <input is="emby-input" type="number" id="txtBrightenHDR" min="0" max="100" data-config="BrightenHDR" data-type="number" />
                        <div class="fieldDescription">Brightness adjustment for HDR content as percentage.</div>
                    </div>

                    <div class="inputContainer">
                        <label for="selectPosterFill">Poster Fill:</label>
                        <select is="emby-select" id="selectPosterFill" data-config="PosterFill">
                            <option value="Original">Original</option>
                            <option value="Stretch">Stretch</option>
                            <option value="Crop">Crop</option>
                            <option value="Letterbox">Letterbox</option>
                        </select>
                        <div class="fieldDescription">How to fit the screenshot into the poster dimensions.</div>
                    </div>

                    <div class="inputContainer">
                        <label for="txtPosterDimensionRatio">Poster Aspect Ratio:</label>
                        <input is="emby-input" type="text" id="txtPosterDimensionRatio" data-config="PosterDimensionRatio" />
                        <div class="fieldDescription">Aspect ratio for the poster (e.g., 16:9, 3:2, 4:3).</div>
                    </div>

                    <div class="inputContainer">
                        <label for="selectPosterFileType">Poster File Type:</label>
                        <select is="emby-select" id="selectPosterFileType" data-config="PosterFileType">
                            <option value="JPEG">JPEG</option>
                            <option value="PNG">PNG</option>
                            <option value="WEBP">WEBP</option>
                        </select>
                        <div class="fieldDescription">File format for generated posters.</div>
                    </div>

                    <div class="inputContainer">
                        <label for="txtPosterSafeArea">Poster Safe Area (%):</label>
                        <input is="emby-input" type="number" id="txtPosterSafeArea" min="0" max="50" data-config="PosterSafeArea" data-type="number" />
                        <div class="fieldDescription">Safe area margin as percentage of poster dimensions.</div>
                    </div>

                    <!-- Letterbox Detection -->
                    <div class="sectionTitleContainer">
                        <h2 class="sectionTitle">Letterbox Detection</h2>
                    </div>

                    <div class="inputContainer">
                        <label class="checkboxContainer">
                            <input is="emby-checkbox" type="checkbox" id="chkEnableLetterboxDetection" data-config="EnableLetterboxDetection" />
                            <span>Enable Letterbox Detection</span>
                        </label>
                        <div class="fieldDescription">Automatically detect and crop letterbox borders.</div>
                    </div>

                    <div class="inputContainer" data-depends-on="chkEnableLetterboxDetection">
                        <label for="txtLetterboxBlackThreshold">Black Threshold:</label>
                        <input is="emby-input" type="number" id="txtLetterboxBlackThreshold" min="0" max="255" data-config="LetterboxBlackThreshold" data-type="number" />
                        <div class="fieldDescription">Brightness threshold for black detection (0-255).</div>
                    </div>

                    <div class="inputContainer" data-depends-on="chkEnableLetterboxDetection">
                        <label for="txtLetterboxConfidence">Confidence Threshold (%):</label>
                        <input is="emby-input" type="number" id="txtLetterboxConfidence" min="0" max="100" step="0.1" data-config="LetterboxConfidence" data-type="number" />
                        <div class="fieldDescription">Confidence threshold for letterbox detection (0-100%).</div>
                    </div>

                    <!-- Episode Display -->
                    <div class="sectionTitleContainer">
                        <h2 class="sectionTitle">Episode Display</h2>
                    </div>

                    <div class="inputContainer">
                        <label class="checkboxContainer">
                            <input is="emby-checkbox" type="checkbox" id="chkShowEpisode" data-config="ShowEpisode" />
                            <span>Show Episode Number/Season</span>
                        </label>
                        <div class="fieldDescription">Display episode and season information on the poster.</div>
                    </div>

                    <div class="inputContainer" data-depends-on="chkShowEpisode">
                        <label for="txtEpisodeFontFamily">Episode Font Family:</label>
                        <input is="emby-input" type="text" id="txtEpisodeFontFamily" data-config="EpisodeFontFamily" />
                        <div class="fieldDescription">Font family for episode number/season text.</div>
                    </div>

                    <div class="inputContainer" data-depends-on="chkShowEpisode">
                        <label for="selectEpisodeFontStyle">Episode Font Style:</label>
                        <select is="emby-select" id="selectEpisodeFontStyle" data-config="EpisodeFontStyle">
                            <option value="Normal">Normal</option>
                            <option value="Bold">Bold</option>
                            <option value="Italic">Italic</option>
                            <option value="BoldItalic">Bold Italic</option>
                        </select>
                        <div class="fieldDescription">Font style for episode number/season text.</div>
                    </div>

                    <div class="inputContainer" data-depends-on="chkShowEpisode">
                        <label for="txtEpisodeFontSize">Episode Font Size (%):</label>
                        <input is="emby-input" type="number" id="txtEpisodeFontSize" min="1" max="50" step="0.1" data-config="EpisodeFontSize" data-type="number" />
                        <div class="fieldDescription">Font size as percentage of poster height.</div>
                    </div>

                    <div class="inputContainer" data-depends-on="chkShowEpisode">
                        <label for="txtEpisodeFontColor">Episode Font Color:</label>
                        <div class="color-control-group">
                            <input type="color" id="colorEpisodeFontColor" class="color-picker" />
                            <input type="range" id="alphaEpisodeFontColor" class="alpha-slider" min="0" max="255" value="255" />
                            <span class="alpha-label">255</span>
                            <input is="emby-input" type="text" id="txtEpisodeFontColor" placeholder="#FFFFFFFF" data-config="EpisodeFontColor" class="hex-input" />
                        </div>
                        <div class="fieldDescription">ARGB hex color code for episode number/season text.</div>
                    </div>

                    <!-- Title Display -->
                    <div class="sectionTitleContainer">
                        <h2 class="sectionTitle">Title Display</h2>
                    </div>

                    <div class="inputContainer">
                        <label class="checkboxContainer">
                            <input is="emby-checkbox" type="checkbox" id="chkShowTitle" data-config="ShowTitle" />
                            <span>Show Episode Title</span>
                        </label>
                        <div class="fieldDescription">Display the episode title on the poster.</div>
                    </div>

                    <div class="inputContainer" data-depends-on="chkShowTitle">
                        <label for="txtTitleFontFamily">Title Font Family:</label>
                        <input is="emby-input" type="text" id="txtTitleFontFamily" data-config="TitleFontFamily" />
                        <div class="fieldDescription">Font family for episode title text.</div>
                    </div>

                    <div class="inputContainer" data-depends-on="chkShowTitle">
                        <label for="selectTitleFontStyle">Title Font Style:</label>
                        <select is="emby-select" id="selectTitleFontStyle" data-config="TitleFontStyle">
                            <option value="Normal">Normal</option>
                            <option value="Bold">Bold</option>
                            <option value="Italic">Italic</option>
                            <option value="BoldItalic">Bold Italic</option>
                        </select>
                        <div class="fieldDescription">Font style for episode title text.</div>
                    </div>

                    <div class="inputContainer" data-depends-on="chkShowTitle">
                        <label for="txtTitleFontSize">Title Font Size (%):</label>
                        <input is="emby-input" type="number" id="txtTitleFontSize" min="1" max="50" step="0.1" data-config="TitleFontSize" data-type="number" />
                        <div class="fieldDescription">Font size as percentage of poster height.</div>
                    </div>

                    <div class="inputContainer" data-depends-on="chkShowTitle">
                        <label for="txtTitleFontColor">Title Font Color:</label>
                        <div class="color-control-group">
                            <input type="color" id="colorTitleFontColor" class="color-picker" />
                            <input type="range" id="alphaTitleFontColor" class="alpha-slider" min="0" max="255" value="255" />
                            <span class="alpha-label">255</span>
                            <input is="emby-input" type="text" id="txtTitleFontColor" placeholder="#FFFFFFFF" data-config="TitleFontColor" class="hex-input" />
                        </div>
                        <div class="fieldDescription">ARGB hex color code for episode title text.</div>
                    </div>

                    <!-- Overlay -->
                    <div class="sectionTitleContainer">
                        <h2 class="sectionTitle">Overlay</h2>
                    </div>

                    <div class="inputContainer">
                        <label for="txtOverlayColor">Overlay Color:</label>
                        <div class="color-control-group">
                            <input type="color" id="colorOverlayColor" class="color-picker" />
                            <input type="range" id="alphaOverlayColor" class="alpha-slider" min="0" max="255" value="102" />
                            <span class="alpha-label">102</span>
                            <input is="emby-input" type="text" id="txtOverlayColor" placeholder="#66000000" data-config="OverlayColor" class="hex-input" />
                        </div>
                        <div class="fieldDescription">ARGB hex for background overlay color and transparency.</div>
                    </div>

                    <!-- Database Management -->
                    <div class="sectionTitleContainer">
                        <h2 class="sectionTitle">Database Management</h2>
                    </div>

                    <div class="inputContainer">
                        <button is="emby-button" type="button" id="btnResetHistory" class="raised button-cancel block" style="margin-bottom: 1em;">
                            <span>Reset History</span>
                        </button>
                        <div class="fieldDescription">Clear all episode processing history. This will cause all episodes to be reprocessed on the next run.</div>
                    </div>

                    <!-- Save Button -->
                    <div class="inputContainer">
                        <button is="emby-button" type="submit" data-theme="b" class="raised button-submit block">
                            <span>Save</span>
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<script src="configPage.js"></script>
</body>
</html>